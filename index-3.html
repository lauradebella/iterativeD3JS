<!DOCTYPE html>
<html>
  <head>
    <title>SVG with D3</title>
    <meta charset="utf-8">
    <script src="/d3.min.js"></script>
  </head>
  <body>
    <div id="content">
      <h1>SVG with D3</h1>
    </div>
    <script>
        var xmlns = "http://www.w3.org/2000/svg";
        var stage_w = 100;
        var stage_h = 100;

        var new_stage = d3.select("body").append("svg")

        new_stage
          .attr("viewBox", "0 0 "+ stage_w + " " + stage_h)
          .attr("width", stage_w)
          .attr("height", stage_h);

        var new_rect = new_stage.append("rect");

        new_rect.attr({
          "height": 40,
          "width": 80,
          "x": 0,
          "y": 20,
          "fill": "red"
        });

        stage_w = stage_w *5;
        var my_data = [1,2,3,4,5,6];

        var another_stage = d3.select("body").append("svg");

        another_stage
          .attr("viewBox", "0 0 "+stage_w+" "+stage_h)
          .attr("width", stage_w)
          .attr("height", stage_h);

        var squares = another_stage.selectAll("rect")
          .data(my_data)
          .enter()
          .append("rect");

        squares
          .attr("fill", "red")
          .attr("x", function(d){ return Math.pow(2,d) * 5 })
          .attr("y", stage_h/2)
          .attr("height", function(d){ return Math.pow(2,d);})
          .attr("width", function(d){ return Math.pow(2,d);});
    </script>
  </body>
</html>
